# UpdateEdu — Переработка транскрипции встречи в структурированный документ

Перерабатывает транскрипцию обучающей встречи в структурированный документ по стандарту базы знаний: разлагает полный текст транскрипции на контекстные структуры по модулям, снабжает скриншотами и убирает раздел «Сегменты с временными метками».

**Автор команды:** Система автоматической конвертации

## Когда использовать

- Для переработки транскрипций обучающих встреч в структурированные документы
- Для приведения документов обучения к единому стандарту базы знаний
- Для разложения длинных транскрипций на логические разделы по модулям
- Для удаления временных меток и структурирования контента

## Требования

- Файл транскрипции должен быть в формате Markdown (`.md`)
- Файл должен содержать раздел «Полный текст транскрипции»
- При наличии скриншотов они должны находиться в папке `screenshots/` рядом с файлом
- Должен быть доступен шаблон базы знаний: `agent_docs/Шаблон статьи базы знаний.md`

## Инструкции

### Шаг 1: Определить файл для обработки

Пользователь может указать:
- Один файл: путь к MD файлу с транскрипцией
- Относительный или абсолютный путь

**Примеры:**
- `База знаний/ОС/Обучение/Запись встречи 02.10.2025 11-12-19 - запись (1).md`
- `@База знаний/ОС/Обучение/Запись встречи 02.10.2025 11-12-19 - запись (1).md`

### Шаг 2: Прочитать и проанализировать файл

1. **Прочитать файл транскрипции:**
   - Проверить наличие раздела «Полный текст транскрипции»
   - Проверить наличие раздела «Сегменты с временными метками» (будет удалён)
   - Определить структуру документа

2. **Проанализировать содержание:**
   - Определить основные модули/темы, которые рассматриваются в транскрипции
   - Выявить логические разделы для структурирования
   - Найти упоминания скриншотов в тексте

3. **Проверить наличие скриншотов:**
   - Проверить наличие папки `screenshots/` рядом с файлом
   - Определить, какие скриншоты доступны
   - Сопоставить скриншоты с разделами транскрипции

### Шаг 3: Прочитать шаблон базы знаний

1. **Открыть шаблон:**
   ```bash
   # Проверить существование шаблона
   test -f agent_docs/Шаблон\ статьи\ базы\ знаний.md && echo "Шаблон найден" || echo "Шаблон не найден"
   ```

2. **Изучить структуру шаблона:**
   - Метаданные документа
   - Целевая аудитория
   - Краткое описание
   - Предварительные требования
   - Основной контент
   - Типичные ошибки и их решение
   - Контрольный чек-лист
   - Связанные материалы
   - История изменений

### Шаг 4: Разложить транскрипцию на контекстные структуры

**Проанализировать полный текст транскрипции и разложить его по модулям:**

1. **Определить основные модули/разделы:**
   - Введение
   - Модуль Сотрудники
   - Модуль Права
   - Модуль Пользователи
   - Модуль Адреса
   - Модуль Объекты (настройки, КПП)
   - Модуль Пропуска
   - Модуль Доверенности
   - Модуль Рассылка
   - Модуль Отчёты
   - Авторизация пользователей
   - Работа с запросами
   - FAQ и техподдержка

2. **Для каждого модуля выделить:**
   - Назначение модуля
   - Основные действия/функции
   - Пошаговые инструкции
   - Важные примечания
   - Ограничения и особенности

3. **Структурировать контент:**
   - Преобразовать разговорную речь в структурированные инструкции
   - Выделить пошаговые действия
   - Добавить разделы: «Что делать», «Где», «Результат»
   - Исправить ошибки распознавания речи

### Шаг 5: Исправить ошибки распознавания речи

**Для каждого раздела исправить:**

1. **Типичные ошибки:**
   - Неправильно распознанные термины (например: "PAST24" → "PASS24", "моторм" → "модуле")
   - Опечатки в названиях интерфейса
   - Неправильно распознанные числа и даты
   - Искаженные технические термины
   - Пропущенные слова или фразы

2. **Грамматика и пунктуация:**
   - Исправить грамматические ошибки
   - Добавить недостающие знаки препинания
   - Разбить длинные предложения на более короткие

3. **Терминология:**
   - Убедиться, что все термины соответствуют принятой в компании терминологии
   - Проверить названия модулей, кнопок, разделов интерфейса

### Шаг 6: Создать структурированный документ

**Создать новый файл с правильным названием:**

1. **Определить название файла:**
   - На основе темы встречи (например: "Обучение администраторов PASS24.online.md")
   - Убрать временные метки и технические суффиксы из названия

2. **Добавить метаданные документа:**
   ```markdown
   ## Метаданные документа
   
   | Параметр | Значение |
   |----------|----------|
   | **Версия** | 1.0 |
   | **Дата создания** | [текущая дата] |
   | **Дата последнего обновления** | [текущая дата] |
   | **Автор** | Система автоматической конвертации |
   | **Ответственный за актуальность** | Отдел сопровождения клиентов |
   | **Статус** | Актуально |
   | **Тип документа** | Обучение |
   | **Отдел** | ОС |
   | **Теги** | обучение, PASS24.online, веб-интерфейс, администратор, инструкция |
   ```

3. **Добавить раздел "Целевая аудитория":**
   ```markdown
   ## Целевая аудитория
   
   **Для кого:** [определить из транскрипции]
   **Уровень подготовки:** Начинающий / Средний / Продвинутый
   **Когда использовать:** [определить из транскрипции]
   ```

4. **Добавить "Краткое описание":**
   - 2-3 предложения о назначении документа
   - Что читатель узнает из документа
   - Какие модули/темы рассматриваются

5. **Добавить "Предварительные требования"** (если применимо):
   ```markdown
   ## Предварительные требования
   
   **Необходимые знания:**
   - [из транскрипции]
   
   **Необходимый доступ:**
   - [из транскрипции]
   
   **Необходимые материалы/ресурсы:**
   - [из транскрипции]
   ```

### Шаг 7: Структурировать основной контент по модулям

**Для каждого модуля создать раздел:**

1. **Структура раздела модуля:**
   ```markdown
   ### Модуль [Название]
   
   **Назначение:** [описание назначения модуля]
   
   #### [Подраздел: Название действия]
   
   **Что делать:**
   1. [Действие 1]
   2. [Действие 2]
   3. [Действие 3]
   
   **Где:** [в какой системе/интерфейсе]
   
   **Результат:** [что должно получиться]
   
   ![Описание скриншота](screenshots/название_файла.png)
   
   **Важно:** [ключевые моменты]
   ```

2. **Преобразовать разговорную речь в инструкции:**
   - Убрать разговорные фразы ("так", "вот", "давайте")
   - Преобразовать описания в пошаговые действия
   - Выделить важную информацию жирным шрифтом
   - Добавить структурированные списки

3. **Добавить скриншоты:**
   - Разместить скриншоты рядом с соответствующими разделами
   - Использовать относительные пути: `screenshots/название_файла.png`
   - Добавить подписи к скриншотам

### Шаг 8: Добавить дополнительные разделы

1. **Раздел "Часто задаваемые вопросы (FAQ)":**
   - Выделить вопросы и ответы из транскрипции
   - Структурировать в формат вопрос-ответ
   - Добавить ссылки на связанные разделы

2. **Раздел "Типичные ошибки и их решение":**
   - Выделить упомянутые проблемы и их решения
   - Создать таблицу с колонками: Ошибка | Причина | Решение

3. **Раздел "Контрольный чек-лист":**
   - Создать чек-лист на основе описанных действий
   - Использовать формат: `- [ ] Пункт для проверки`

4. **Раздел "Связанные материалы":**
   - Добавить ссылки на инструкции по модулям
   - Добавить ссылки на другие документы базы знаний
   - Добавить ссылки на внешние ресурсы (если упоминались)

### Шаг 9: Удалить раздел «Сегменты с временными метками»

**Полностью удалить раздел:**
- Найти раздел `## Сегменты с временными метками`
- Удалить весь раздел со всеми подразделами
- Убедиться, что вся важная информация из сегментов перенесена в структурированные разделы

**Важно:** Перед удалением проверить, что:
- Вся важная информация из сегментов перенесена в основные разделы
- Скриншоты из сегментов размещены в соответствующих разделах
- Временные метки не нужны для понимания контента

### Шаг 10: Добавить историю изменений

**Создать раздел "История изменений":**
```markdown
## История изменений

| Версия | Дата | Автор | Изменения |
|--------|------|-------|-----------|
| 1.0 | [текущая дата] | Система автоматической конвертации | Первоначальная версия на основе записи встречи от [дата], структурирована по модулям, убран раздел «Сегменты с временными метками», добавлены скриншоты |
```

### Шаг 11: Финальная проверка

**Проверить созданный документ:**

- [ ] Все ошибки распознавания исправлены
- [ ] Текст структурирован согласно шаблону базы знаний
- [ ] Добавлены метаданные документа
- [ ] Указана целевая аудитория
- [ ] Есть краткое описание
- [ ] Основной контент разбит на логические разделы по модулям
- [ ] Созданы пошаговые инструкции для каждого модуля
- [ ] Скриншоты размещены в соответствующих разделах
- [ ] Раздел «Сегменты с временными метками» удалён
- [ ] Добавлены FAQ (если были вопросы в транскрипции)
- [ ] Добавлены типичные ошибки и их решение
- [ ] Добавлен контрольный чек-лист
- [ ] Добавлена история изменений
- [ ] Проверена грамматика и пунктуация
- [ ] Проверена терминология
- [ ] Документ соответствует стандартам базы знаний

### Шаг 12: Удалить старый файл

**После успешного создания нового файла:**

1. **Удалить исходный файл транскрипции:**
   - Убедиться, что новый файл создан и содержит всю необходимую информацию
   - Удалить старый файл с транскрипцией

2. **Сохранить скриншоты:**
   - Убедиться, что скриншоты остались в папке `screenshots/`
   - Проверить, что пути к скриншотам в новом файле корректны

## Пример структуры готового документа

После обработки документ должен иметь следующую структуру:

```markdown
# Обучение администраторов PASS24.online

## Метаданные документа
[таблица с метаданными]

## Целевая аудитория
[описание аудитории]

## Краткое описание
[2-3 предложения]

## Предварительные требования
[если применимо]

## Основной контент

### Введение
[вводная информация]

### Модуль Сотрудники
[структурированная информация по модулю]

### Модуль Пользователи
[структурированная информация по модулю]

[... другие модули ...]

### Авторизация пользователей
[информация об авторизации]

### Работа с запросами
[информация о работе с запросами]

## Часто задаваемые вопросы (FAQ)
[вопросы и ответы]

## Типичные ошибки и их решение
[таблица с ошибками]

## Контрольный чек-лист
[чек-лист для проверки]

## Связанные материалы
[ссылки на другие документы]

## История изменений
[таблица с версиями]
```

## Обработка ошибок

**Если файл не найден:**
1. Проверить правильность пути к файлу
2. Убедиться, что файл существует
3. Проверить права доступа к файлу

**Если шаблон не найден:**
1. Проверить наличие файла `agent_docs/Шаблон статьи базы знаний.md`
2. Если файл отсутствует, использовать структуру из примера выше

**Если скриншоты не найдены:**
1. Проверить наличие папки `screenshots/` рядом с файлом
2. Если скриншоты отсутствуют, создать документ без них
3. Добавить примечание о необходимости добавления скриншотов

**Если транскрипция слишком длинная:**
1. Разбить на логические части
2. Создать несколько документов (если темы сильно различаются)
3. Или создать один документ с подробной структурой

## Пример использования

```bash
# Обработать один файл
# Указать файл через @ для обработки
@База знаний/ОС/Обучение/Запись встречи 02.10.2025 11-12-19 - запись (1).md
```

**Процесс обработки:**
1. Система прочитает файл транскрипции
2. Проанализирует содержание и определит модули
3. Разложит транскрипцию на контекстные структуры
4. Исправит ошибки распознавания речи
5. Создаст структурированный документ по стандарту базы знаний
6. Добавит скриншоты в соответствующие разделы
7. Удалит раздел «Сегменты с временными метками»
8. Создаст новый файл с правильным названием
9. Удалит старый файл транскрипции

## Примечания

- **Время обработки:** Зависит от длины транскрипции и количества модулей
- **Скриншоты:** Должны находиться в папке `screenshots/` рядом с файлом транскрипции
- **Структура:** Документ создаётся по стандарту базы знаний с использованием шаблона
- **Удаление сегментов:** Раздел «Сегменты с временными метками» полностью удаляется после переноса информации в структурированные разделы
- **Название файла:** Новый файл получает понятное название на основе темы встречи

## Важно: После обработки

**ОБЯЗАТЕЛЬНО проверить:**

1. ✅ Все модули правильно структурированы
2. ✅ Скриншоты размещены в соответствующих разделах
3. ✅ Раздел «Сегменты с временными метками» удалён
4. ✅ Документ соответствует стандартам базы знаний
5. ✅ Все ошибки распознавания исправлены
6. ✅ Добавлены все необходимые разделы (FAQ, типичные ошибки, чек-лист)
7. ✅ История изменений заполнена
8. ✅ Связанные материалы добавлены

**Рекомендуемый порядок работы:**
1. Обработать транскрипцию командой UpdateEdu
2. Проверить созданный документ
3. При необходимости внести дополнительные правки
4. Обновить README раздела при необходимости
5. Зафиксировать изменения в истории разработки

---
